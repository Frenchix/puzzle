import{_ as v}from"./GameInterface-51ce90aa.js";import{u as z,r as e,o as _,a as t,c as n,b as f,d as h,e as u,t as I,f as x,F as y,_ as $}from"./index-a4eef16f.js";const b={key:0,class:"text-center text-lg text-[#007bff]"},k={key:1,class:"text-center text-lg text-red-500"},D={__name:"GameView",setup(w){const c=z(),a=e(null),r=e(null),s=e(!0),l=e(!1),i=e(""),m=e(null),p=e([]);return _(async()=>{try{a.value=parseInt(c.query.imageId,10),r.value=parseInt(c.query.pieces,10);const d=await(await fetch(`https://puzzle.osc-fr1.scalingo.io/api/getImage/${a.value}`)).json();m.value=d.src;const g=await fetch(`https://puzzle.osc-fr1.scalingo.io/api/getPieces?id=${a.value}&nbPieces=${r.value}`,{mode:"cors"});p.value=await g.json(),s.value=!1}catch(o){l.value=!0,i.value="Erreur lors du chargement des pièces.",s.value=!1,console.error("Erreur lors du chargement des données du puzzle:",o)}}),(o,d)=>(t(),n(y,null,[f("header",null,[h($)]),s.value?(t(),n("div",b,"Chargement...")):u("",!0),l.value?(t(),n("div",k,I(i.value),1)):u("",!0),!s.value&&!l.value?(t(),x(v,{key:2,puzzleImage:m.value,puzzleData:p.value,imageId:a.value,nbPieces:r.value,duel:"non"},null,8,["puzzleImage","puzzleData","imageId","nbPieces"])):u("",!0)],64))}};export{D as default};
