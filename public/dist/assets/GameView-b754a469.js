import{_ as v}from"./GameInterface-39de01c3.js";import{u as z,r as e,o as _,a as t,c as o,b as f,d as h,e as u,t as I,f as x,F as y,_ as $}from"./index-16b34eb6.js";const b={key:0,class:"text-center text-lg text-[#007bff]"},k={key:1,class:"text-center text-lg text-red-500"},D={__name:"GameView",setup(w){const c=z(),a=e(null),r=e(null),s=e(!0),n=e(!1),i=e(""),m=e(null),d=e([]);return _(async()=>{try{a.value=parseInt(c.query.imageId,10),r.value=parseInt(c.query.pieces,10);const p=await(await fetch(`https://puzzle-01s0.onrender.com/api/getImage/${a.value}`)).json();m.value=p.src;const g=await fetch(`https://puzzle-01s0.onrender.com/api/getPieces?id=${a.value}&nbPieces=${r.value}`,{mode:"cors"});d.value=await g.json(),s.value=!1}catch(l){n.value=!0,i.value="Erreur lors du chargement des pièces.",s.value=!1,console.error("Erreur lors du chargement des données du puzzle:",l)}}),(l,p)=>(t(),o(y,null,[f("header",null,[h($)]),s.value?(t(),o("div",b,"Chargement...")):u("",!0),n.value?(t(),o("div",k,I(i.value),1)):u("",!0),!s.value&&!n.value?(t(),x(v,{key:2,puzzleImage:m.value,puzzleData:d.value,imageId:a.value,nbPieces:r.value,duel:"non"},null,8,["puzzleImage","puzzleData","imageId","nbPieces"])):u("",!0)],64))}};export{D as default};
