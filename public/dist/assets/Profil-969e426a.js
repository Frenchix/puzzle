import{g as P,l as q,m as N,n as $,r as b,a as l,c as a,b as e,p as n,j as v,w as i,v as u,q as w,e as d,h as A,x as C,y as R,z as S,A as T}from"./index-a4eef16f.js";const j={class:"absolute w-full"},z=e("div",{class:"absolute top-0 w-full h-full bg-gray-900",style:{"background-size":"100%","background-repeat":"no-repeat"}},null,-1),B={class:"container mx-auto px-4 h-full"},D={class:"flex content-center items-center justify-center h-full"},F={class:"w-full lg:w-4/12 px-4"},G={class:"relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded-lg bg-gray-300 border-0"},H={class:"flex-auto px-4 lg:px-10 py-10 pt-0 mt-5"},I={class:"w-full flex justify-between items-center mb-3"},J=e("div",null,null,-1),K=e("div",{class:"text-gray-500 text-center font-bold text-xl"}," Mon Profil ",-1),L={class:"relative w-full mb-3"},O=e("label",{class:"block uppercase text-gray-700 text-xs font-bold mb-2",for:"grid-password"},"Pseudo",-1),Q={class:"relative w-full mb-3"},W=e("label",{class:"block uppercase text-gray-700 text-xs font-bold mb-2",for:"grid-password"},"Email",-1),X={key:0,class:"mt-6"},Y={key:0,class:"block uppercase text-gray-700 text-xs font-bold mb-2",for:"grid-password"},Z={key:2,class:"bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-6 w-full",type:"submit",style:{transition:"all 0.15s ease 0s"}},ee={key:1,class:"text-center my-6"},te={class:"relative w-full mb-3"},se=e("label",{class:"block uppercase text-gray-700 text-xs font-bold mb-2",for:"grid-password"},"Ancien Mot de passe",-1),oe=e("label",{class:"block uppercase text-gray-700 text-xs font-bold my-2",for:"grid-password"},"Nouveau Mot de passe",-1),le=e("div",{class:"text-center mt-6"},[e("button",{class:"bg-gray-900 text-white active:bg-gray-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 w-full",type:"submit",style:{transition:"all 0.15s ease 0s"}}," Modifier mon mot de passe ")],-1),ae={key:0,class:"text-red-500"},ie={__name:"Profil",setup(ne){const h=P(),_=q(),c=N.useToast(),{userName:p,userMail:m,emailVerified:k,provider:f}=$(_),g=b(),y=b(),x=b(),r=b(!1);async function M(){try{await R(p);let o=c.success("Modification bien enregistrée")}catch{r.value=!0}}async function V(){try{await S(m,y.value);let o=c.success("Modification bien enregistrée")}catch{r.value=!0}}async function E(){try{await C();let o=c.success("Email envoyé")}catch{r.value=!0}}async function U(){try{await T(g.value,x.value);let o=c.success("Changement de mot de passe avec succès")}catch{r.value=!0}}return(o,t)=>(l(),a("div",null,[e("main",null,[e("section",j,[z,e("div",B,[e("div",D,[e("div",F,[e("div",G,[e("div",H,[e("div",I,[J,K,e("button",{onClick:t[0]||(t[0]=s=>n(h).push("/")),class:"bg-blue-500 text-white active:bg-blue-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none"}," Accueil ")]),e("form",{onSubmit:t[2]||(t[2]=v(s=>M(),["prevent"]))},[e("div",L,[O,i(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=s=>w(p)?p.value=s:null),class:"border-0 px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full",placeholder:"Pseudo",style:{transition:"all 0.15s ease 0s"},required:""},null,512),[[u,n(p)]])])],32),e("form",{onSubmit:t[5]||(t[5]=v(s=>V(),["prevent"]))},[e("div",Q,[W,i(e("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=s=>w(m)?m.value=s:null),class:"border-0 px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full",placeholder:"Email",style:{transition:"all 0.15s ease 0s"},required:""},null,512),[[u,n(m)]])]),n(k)?(l(),a("div",X,[n(f)!=="google.com"?(l(),a("label",Y,"Rentre ton mot de passe")):d("",!0),n(f)!=="google.com"?i((l(),a("input",{key:1,type:"password","onUpdate:modelValue":t[4]||(t[4]=s=>y.value=s),class:"border-0 px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full mb-6",placeholder:"Mot de passe actuel",style:{transition:"all 0.15s ease 0s"},required:""},null,512)),[[u,y.value]]):d("",!0),n(f)!=="google.com"?(l(),a("button",Z," Modifier mon email ")):d("",!0)])):(l(),a("div",ee,[A(" Veuillez valider votre email "),e("button",{onClick:E,class:"bg-green-500 text-white active:bg-green-700 text-sm font-bold uppercase px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 my-1"}," Envoyer lien de validation ")]))],32),n(f)!=="google.com"?(l(),a("form",{key:0,onSubmit:t[8]||(t[8]=v(s=>U(),["prevent"]))},[e("div",te,[se,i(e("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=s=>g.value=s),class:"border-0 px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full",placeholder:"Ancien mot de passe",style:{transition:"all 0.15s ease 0s"},required:""},null,512),[[u,g.value]]),oe,i(e("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=s=>x.value=s),class:"border-0 px-3 py-3 placeholder-gray-400 text-gray-700 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full",placeholder:"Nouveau mot de passe",style:{transition:"all 0.15s ease 0s"},required:""},null,512),[[u,x.value]])]),le,r.value?(l(),a("div",ae," Une erreur est survenue! ")):d("",!0)],32)):d("",!0)])])])])])])])]))}};export{ie as default};
